<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>META Fab4 Manufacturing & Engineering Tool App </title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="../assets/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../assets/bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="../assets/bower_components/Ionicons/css/ionicons.min.css">
    <!-- Datepicker -->
    <link rel="stylesheet" href="../assets/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <!-- Select2 -->
    <link rel="stylesheet" href="../assets/bower_components/select2/dist/css/select2.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../assets/dist/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="../assets/dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="../assets/dist/css/fab4meta.css">

    <!--Tableau-->
    <script type="text/javascript" src="http://tableau.sunpowercorp.com/javascripts/api/tableau-2.min.js"></script>
    <script type="text/javascript">
    

        function initViz() {
            var containerDiv = document.getElementById("vizContainer"),
            url = '<%= url_query %>',
            options = {
                hideTabs: true,
                onFirstInteractive: function () {
                    console.log("Please wait while loadinng vizContainer...................");
                    $('#alerta').alert("close");
                }
            };
                
            var viz = new tableau.Viz(containerDiv, url, options); 
        }

    </script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
</head>
<body class="layout-top-nav" onload="initViz();">
    <div class="wrapper main-pg">
        <header class="main-header site-header">
            <nav class="navbar navbar-static-top">
                <div class="col-md-12 col-centered no-padding">
                    <div class="navbar-header">
                        <a href="/" class="navbar-minimal page-title">META</a>
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"><i class="fa fa-bars"></i>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li>
                                <a href="/"><span class="link-nav"><i class="fa fa-home"></i> Home </span></a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle link-nav  link-active" data-toggle="dropdown" ><span class=""><i class="fa fa-bar-chart"></i> Reports </span><span class="caret caret-style"></span></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li>
                                        <a href="/reports?type=cycletime">Fab4 Cycletime</a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="/reports?type=cycletime-cluster-1">Cluster 1 Cycletime</a>
                                    </li>
                                    <li>
                                        <a href="/reports?type=cycletime-cluster-2">Cluster 2 Cycletime</a>
                                    </li>
                                    <li>
                                        <a href="/reports?type=cycletime-cluster-3">Cluster 3 Cycletime</a>
                                    </li>
                                    <li>
                                        <a href="/reports?type=cycletime-cluster-4">Cluster 4 Cycletime</a>
                                    </li>
                                    <li>
                                        <a href="/reports?type=cycletime-cluster-5">Cluster 5 Cycletime</a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="/reports?type=daily-binning-per-wafer-supplier">Daily Binning</a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="/reports?type=hourly-eol-silicon-parameters">Hourly EOL and Silicon Parameters</a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="/reports?type=equipment-status">WTD Equipment Status</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle link-nav" data-toggle="dropdown" ><span class=""><i class="fa fa-pencil-square-o"></i> Prototype </span><span class="caret caret-style"></span></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li>
                                        <a href="/coa">Certificate of Analysis</a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="/feed/?type=ndep&filename=ndep.txt">NDEP News Feed</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="navbar-custom-menu">
                        <!--
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <% if(username) { %>
                                    <a href="#" class="dropdown-toggle link-nav" data-toggle="dropdown"><span class="">@</span></a>
                                    <ul class="dropdown-menu" role="menu">
                                        <li>
                                            <a href="/activity"><i class="fa fa-newspaper-o"></i> My Activity</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li>
                                            <a href="/logout"><i class="fa fa-sign-out"></i> Logout</a>
                                        </li>
                                    </ul>
                                <% } else { %>
                                    <a href="/login"><span class="link-nav">Login</span></a>
                                <% } %>
                            </li>
                        </ul>
                        -->
                    </div>
                </div>
            </nav>
        </header>
        <div class="content-wrapper coa-body reports-area">
            <section class="content">
                <div class="row">
                    <div class="col-md-12 col-centered no-padding">
                    <div id="alerta" class="alert tableau-dismiss alert-dismissable">
                        <button class="close" type="button" data-dismiss="alert" aria-hidden="true">Ã—</button>
                            <h4>
                                Connecting to Tableau Server...
                            </h4>
                        Login using Tableau Server account when pop-up message appears. Refresh the page after you signed in.
                    </div>
                    <div id="vizContainer" style="height:800px;"></div>
                    </div>
                </div>
            </section>
        </div>
    </div>

<script src="https://apis.google.com/js/platform.js?onload=onLoad" async defer></script>
<!-- jQuery 3 -->
<script src="../assets/bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="../assets/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Date Picker -->
<script src="../assets/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- Select2-->
<script src="../assets/bower_components/select2/dist/js/select2.full.min.js"></script>
</body>
</html>
